<launch>
  <arg name="world"                     default="supermarket"/>
  <arg name="robot"                     default="iron"/>
  <arg name="arm"                       default="$(eval {'iron': False}.get(arg('robot'), True))"/>
  <arg name="end_effector"              default="$(eval {'iron': 'false', 'steel': 'pal-gripper', 'titanium': 'pal-hey5'}.get(arg('robot'), 'pal-gripper'))"/>
  <arg name="ft_sensor"                 default="$(eval {'titanium': 'schunk-ft'}.get(arg('robot'), 'false'))"/>
  <arg name="laser_model"               default="sick-571"/>
  <arg name="camera_model"              default="orbbec-astra"/>
  <arg name="multi"                     default=""/>
  <arg name="gzpose"                    default="-x 9.5 -y 1.5 -z 0.2 -R 0.0 -P 0.0 -Y 1.57"/>
  <arg name="gui"                       default="true"/>
  <arg name="debug"                     default="false"/>
  <arg name="public_sim"                default="false"/>
  <arg name="tuck_arm"                  default="true"/>
  <arg name="recording"                 default="false"/>
  <arg name="extra_gazebo_args"         default=""/>
  <arg name="use_moveit_camera"         default="false"/>
  <arg name="use_dynamic_footprint"     default="false"/>
  <arg name="base_type"                 default="pmb2"/>

  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name"              value="$(find mytiago_gazebo)/worlds/$(arg world).world"/>
  </include>

  <!-- spawn robot in simulation -->
  <include file="$(find tiago_gazebo)/launch/tiago_spawn.launch">
    <arg name="arm"                     value="$(arg arm)"/>
    <arg name="end_effector"            value="$(arg end_effector)"/>
    <arg name="ft_sensor"               value="$(arg ft_sensor)"/>
    <arg name="laser_model"             value="$(arg laser_model)"/>
    <arg name="camera_model"            value="$(arg camera_model)"/>
    <arg name="multi"                   value="$(arg multi)"/>
    <arg name="gzpose"                  value="$(arg gzpose)"/>
    <arg name="base_type"               value="$(arg base_type)"/>
  </include>

  <!-- bring up robot -->
  <include file="$(find tiago_gazebo)/launch/simulation_tiago_bringup.launch">
    <arg name="arm"                     value="$(arg arm)"/>
    <arg name="end_effector"            value="$(arg end_effector)"/>
    <arg name="ft_sensor"               value="$(arg ft_sensor)"/>
    <arg name="laser_model"             value="$(arg laser_model)"/>
    <arg name="camera_model"            value="$(arg camera_model)"/>
    <arg name="public_sim"              value="$(arg public_sim)"/>
    <arg name="use_moveit_camera"       value="$(arg use_moveit_camera)"/>
    <arg name="use_dynamic_footprint"   value="$(arg use_dynamic_footprint)"/>
    <arg name="base_type"               value="$(arg base_type)"/>
  </include>

</launch>
